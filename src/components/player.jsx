import React from 'react'
import axios from 'axios'
import { useCreateContext } from '../utils/provider'
import { reducerCases } from '../utils/constant'
import { useEffect } from 'react'

const Player = () => {
const [{token, currentPlaying},dispatch] = useCreateContext()


 useEffect(() => {
      const getPlaying = async () => {

        const { data } = await axios.get("https://api.spotify.com/v1/me/player/currently-playing",{
          headers:{
            'Authorization': 'Bearer ' + token,
            "Content-Type": "application/json",
          }
        })
        console.log(data)
        console.log(data.item.album.images)
        // const playlistInfo = {
        //   items: data.items
        // }
        const playingInfo = {
          name: data.item.name,
          images: data.item.album.images
        }
        console.log(playingInfo.name,"lahh")
        dispatch({type:reducerCases.SET_PLAYING, playingInfo })
      }
      getPlaying()
  },[ token,dispatch])

  console.log(currentPlaying?.images[0],'asu')


  return (
    <div className='h-24 fixed bottom-0 bg-[#181818] w-screen p-3'>
      <div className='  h-full flex justify-between'>

        <div className=' h-full w-auto flex flex-row '>
          <div 
          style={{backgroundImage: `url(${currentPlaying?.images[0].url})`}}
          className='bg-white w-[70px] h-full bg-cover'></div>
            <div className='flex-col flex font-spotify ml-4 justify-center text-white'>
               <span>{currentPlaying?.name}</span>
               <span className=' text-[10px] '>NEFFEX</span>
            </div>
            <div className=' flex items-center ml-4 '>
              <svg className='h-6 w-6' viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M20.205 4.79099C19.6536 4.2357 18.9979 3.79488 18.2756 3.49387C17.5533 3.19286 16.7786 3.03759 15.996 3.03699C14.5158 3.03723 13.0897 3.59326 12 4.59499C10.9104 3.59309 9.48422 3.03703 8.00401 3.03699C7.22055 3.0378 6.44499 3.19355 5.72195 3.49526C4.99891 3.79696 4.34268 4.23868 3.79101 4.79499C1.43801 7.15799 1.43901 10.854 3.79301 13.207L12 21.414L20.207 13.207C22.561 10.854 22.562 7.15799 20.205 4.79099V4.79099Z" fill="#1DB954"/>
              </svg>

            </div>
        </div>


        <div className=' h-full w-[700px]   '>
          <div className='h-2/3  flex items-center justify-center'>

<svg className='h-6 w-6 m-2' viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M16.3395 15.4905C15.876 15.3443 15.2842 14.9633 14.622 14.3003C14.0535 13.7438 13.467 13.0268 12.867 12.2453C12.723 12.4365 12.5797 12.6278 12.4357 12.8228C12.0435 13.3538 11.6422 13.89 11.2335 14.4173C12.6615 16.1498 14.1435 17.8508 16.341 18.1313V20.1563L22.0072 16.8863L16.3402 13.614V15.4905H16.3395ZM6.89399 8.95053C7.46099 9.50553 8.04749 10.2225 8.64899 11.004C8.79449 10.8075 8.94149 10.614 9.08849 10.413C9.48032 9.8809 9.87835 9.35337 10.2825 8.83053C8.75849 6.98253 7.18274 5.15028 4.73549 5.06253H2.11049V7.68753H4.73549C5.22674 7.66728 5.99699 8.05128 6.89399 8.94978V8.95053ZM16.3395 7.75578V9.65778L22.0065 6.38553L16.3395 3.11328V5.09853C14.9115 5.26353 13.7707 6.10953 12.777 7.08153C11.1292 8.71953 9.68924 10.9575 8.26799 12.7365C6.86774 14.5643 5.46299 15.6518 4.73399 15.564H2.10899V18.189H4.73399C6.37274 18.1665 7.64399 17.2395 8.73899 16.1693C10.3845 14.5313 11.826 12.294 13.2465 10.5158C14.4037 9.00303 15.5595 8.01078 16.3395 7.75578Z" fill="#C4C4C4"/>
</svg>

<svg className='h-8 w-8 m-2 mr-0' viewBox="0 0 31 31" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M20.6667 9.04163L11.625 15.5L20.6667 21.9583V9.04163ZM11.625 15.5V9.04163H9.04167V21.9583H11.625V15.5Z" fill="#C4C4C4"/>
</svg>

<svg className='h-12 w-12 m-2' viewBox="0 0 51 51" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M25.5 4.25C21.2971 4.25 17.1887 5.49629 13.6941 7.83127C10.1996 10.1663 7.47592 13.485 5.86755 17.368C4.25919 21.2509 3.83837 25.5236 4.65831 29.6457C5.47824 33.7678 7.50211 37.5542 10.474 40.526C13.4458 43.4979 17.2322 45.5218 21.3543 46.3417C25.4764 47.1616 29.7491 46.7408 33.632 45.1324C37.5149 43.5241 40.8337 40.8004 43.1687 37.3059C45.5037 33.8113 46.75 29.7029 46.75 25.5C46.75 22.7094 46.2003 19.9461 45.1324 17.368C44.0645 14.7898 42.4993 12.4472 40.526 10.474C38.5528 8.50074 36.2102 6.93547 33.632 5.86756C31.0539 4.79965 28.2906 4.25 25.5 4.25ZM21.3543 32.5V17.381L33 25.5L21.3543 32.5Z" fill="white"/>
</svg>

<svg  className='h-8 w-8 m-2 ml-0' viewBox="0 0 31 31" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M10.3333 9.04163L19.375 15.5L10.3333 21.9583V9.04163ZM19.375 15.5V9.04163H21.9583V21.9583H19.375V15.5Z" fill="#C4C4C4"/>
</svg>

<svg className='h-6 w-6 m-2' viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M18.15 7.33805C18.2776 7.33805 18.3953 7.38205 18.4888 7.45575L18.5625 7.52505L18.5812 7.54705C19.2203 8.33911 19.627 9.29297 19.7562 10.3025C19.8854 11.312 19.732 12.3375 19.313 13.265C18.894 14.1925 18.2259 14.9855 17.383 15.5559C16.5401 16.1262 15.5555 16.4515 14.5387 16.4955L14.3 16.4999H7.69999C7.58882 16.5 7.47767 16.4967 7.36669 16.49L9.18939 18.3105C9.28034 18.4017 9.33642 18.5218 9.34788 18.6501C9.35933 18.7783 9.32544 18.9065 9.25209 19.0123L9.18939 19.0893C9.09825 19.1803 8.97809 19.2364 8.84985 19.2478C8.72161 19.2593 8.59341 19.2254 8.48759 19.152L8.41059 19.0893L5.66059 16.3393C5.56965 16.2482 5.51356 16.128 5.50211 15.9998C5.49065 15.8716 5.52455 15.7434 5.59789 15.6375L5.66059 15.5605L8.41059 12.8105C8.5076 12.7131 8.63759 12.6555 8.77494 12.6492C8.91229 12.6428 9.04704 12.6881 9.15263 12.7762C9.25823 12.8643 9.32701 12.9887 9.34542 13.1249C9.36383 13.2612 9.33053 13.3994 9.25209 13.5123L9.18939 13.5893L7.38869 15.3889L7.54269 15.3977L7.69999 15.3999H14.3C15.1309 15.4 15.9449 15.1648 16.6477 14.7216C17.3505 14.2783 17.9134 13.6451 18.2713 12.8952C18.6292 12.1453 18.7675 11.3094 18.6701 10.4842C18.5727 9.65905 18.2436 8.8783 17.721 8.23235C17.6564 8.15147 17.616 8.05402 17.6043 7.95119C17.5926 7.84836 17.6102 7.74432 17.655 7.65102C17.6998 7.55773 17.77 7.47898 17.8576 7.42381C17.9451 7.36864 18.0465 7.33929 18.15 7.33915V7.33805ZM12.8106 2.91055C12.9017 2.8196 13.0219 2.76352 13.1501 2.75206C13.2784 2.7406 13.4066 2.7745 13.5124 2.84785L13.5894 2.91055L16.3394 5.66055L16.4021 5.73755C16.4655 5.82939 16.4994 5.93835 16.4994 6.04995C16.4994 6.16154 16.4655 6.2705 16.4021 6.36235L16.3394 6.43935L13.5894 9.18935L13.5124 9.25205C13.4205 9.31543 13.3116 9.34938 13.2 9.34938C13.0884 9.34938 12.9794 9.31543 12.8876 9.25205L12.8106 9.18935L12.7479 9.11235C12.6845 9.0205 12.6506 8.91154 12.6506 8.79995C12.6506 8.68835 12.6845 8.57939 12.7479 8.48755L12.8106 8.41055L14.6113 6.61095L14.4573 6.60215L14.3 6.59995H7.69999C6.86837 6.5999 6.05376 6.83553 5.35058 7.27953C4.6474 7.72353 4.08445 8.35772 3.72697 9.10859C3.36949 9.85947 3.23213 10.6963 3.33081 11.522C3.42948 12.3478 3.76015 13.1286 4.28449 13.7741C4.37216 13.891 4.40982 14.0379 4.38919 14.1825C4.36856 14.3271 4.29133 14.4576 4.17449 14.5452C4.11664 14.5887 4.0508 14.6202 3.98074 14.6382C3.91068 14.6562 3.83776 14.6602 3.76616 14.6499C3.62155 14.6293 3.49106 14.5521 3.40339 14.4352C2.76872 13.642 2.36617 12.6884 2.24036 11.6803C2.11456 10.6722 2.27043 9.64899 2.69068 8.72408C3.11093 7.79916 3.77914 7.00871 4.62122 6.44039C5.46329 5.87206 6.44632 5.54807 7.46129 5.50435L7.69999 5.49995H14.3C14.4122 5.49995 14.5233 5.50325 14.6333 5.50985L12.8106 3.68935L12.7479 3.61235C12.6745 3.50653 12.6406 3.37833 12.6521 3.25009C12.6636 3.12185 12.7196 3.00169 12.8106 2.91055Z" fill="#C4C4C4"/>
</svg>

          </div>

          <div className='h-1/3 text-white bs flex'>
              <div className='flex items-center mx-auto font-spotify'>
              <span className='mr-2'>0:00</span>
              <svg width="511" height="5" viewBox="0 0 511 5" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="511" height="5" rx="2.5" fill="#535353"/>
</svg>

           
           <span className='ml-2'>3:40</span>
              </div>
 
          </div>
        
        </div>


        <div className=' h-full  flex justify-center   '>
       
<div className=' flex flex-row items-center  '>
  
<svg className='h-6 w-6  m-2 ' viewBox="0 0 23 23" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M18.1263 10.6003C18.8866 9.4063 19.1415 7.95916 18.8348 6.57725C18.5281 5.19534 17.685 3.99186 16.491 3.23156C15.297 2.47127 13.8498 2.21643 12.4679 2.52312C11.086 2.82981 9.88252 3.6729 9.12223 4.86692L9.08116 4.92165L9.04894 4.98202C8.31157 6.16429 8.06805 7.58887 8.37082 8.94895C8.41082 9.13563 8.46184 9.31978 8.52362 9.50043L4.74411 18.0937C4.62959 18.3537 4.61205 18.6461 4.69469 18.9179C4.77733 19.1897 4.95466 19.4229 5.19451 19.5751L6.46058 20.3812C6.69997 20.5342 6.98626 20.5962 7.2675 20.5561C7.54873 20.516 7.80627 20.3765 7.99339 20.1627L14.1811 13.1028C14.3709 13.0824 14.5593 13.0507 14.7454 13.008C16.1059 12.707 17.2937 11.8837 18.0531 10.7154L18.0941 10.6607L18.1263 10.6003ZM17.6452 6.89068C17.8406 7.76632 17.7448 8.68183 17.3724 9.49804L10.44 5.08384C10.9416 4.49734 11.5969 4.06239 12.3321 3.82787C13.0674 3.59334 13.8535 3.56855 14.602 3.75626C15.3506 3.94398 16.032 4.33678 16.5696 4.89049C17.1072 5.4442 17.4797 6.13688 17.6452 6.89068ZM7.09762 19.3808L5.83156 18.5746L9.22361 10.8732C10.0341 12.0178 11.261 12.7991 12.6411 13.0493L7.09762 19.3808ZM9.53012 8.69166C9.33467 7.81602 9.43047 6.90051 9.80293 6.08429L10.44 5.08384L17.3724 9.49804C16.8707 10.0845 15.5784 11.5199 14.8432 11.7545C14.1079 11.989 13.3218 12.0138 12.5732 11.8261C11.8247 11.6384 11.1433 11.2456 10.6057 10.6919C10.0681 10.1381 9.69564 9.44545 9.53012 8.69166Z" fill="#C4C4C4"/>

</svg>
<svg className='h-8 w-8 m-2 mb-3 ' viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M10 19H28V21H10V19Z" fill="#C4C4C4"/>
<path d="M19 14H28V16H19V14Z" fill="#C4C4C4"/>
<path d="M10 24H28V26H10V24Z" fill="#C4C4C4"/>
<path d="M10 9L16 13.5L10 18V9Z" fill="#C4C4C4"/>
</svg>

<svg className='h-6 w-6  m-2' viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M19.5 18.0038H4.5C4.1023 18.0034 3.721 17.8452 3.43978 17.564C3.15856 17.2828 3.0004 16.9015 3 16.5038V6.00378C3.0004 5.60608 3.15856 5.22478 3.43978 4.94356C3.721 4.66234 4.1023 4.50418 4.5 4.50378H19.5C19.8977 4.50418 20.279 4.66234 20.5602 4.94356C20.8414 5.22478 20.9996 5.60608 21 6.00378V16.5038C20.9994 16.9014 20.8412 17.2826 20.56 17.5638C20.2788 17.845 19.8976 18.0032 19.5 18.0038ZM4.5 6.00378V16.5038H19.5V6.00378H4.5Z" fill="#1B9145"/>
<path d="M1.5 19.5038H22.5V21.0038H1.5V19.5038Z" fill="#1B9145"/>
</svg>

<svg  className='h-6 w-6  m-2' viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M15 4.25001C15 3.17101 13.726 2.60001 12.92 3.31601L8.427 7.30901C8.28986 7.43118 8.11266 7.49879 7.929 7.49901H4.25C3.65326 7.49901 3.08097 7.73606 2.65901 8.15802C2.23705 8.57997 2 9.15227 2 9.74901V14.246C2 14.8427 2.23705 15.415 2.65901 15.837C3.08097 16.259 3.65326 16.496 4.25 16.496H7.93C8.11366 16.4962 8.29086 16.5638 8.428 16.686L12.919 20.68C13.725 21.396 15 20.824 15 19.746V4.25001V4.25001ZM9.425 8.43001L13.5 4.80701V19.189L9.425 15.565C9.01319 15.1986 8.48121 14.9961 7.93 14.996H4.25C4.05109 14.996 3.86032 14.917 3.71967 14.7763C3.57902 14.6357 3.5 14.4449 3.5 14.246V9.75001C3.5 9.55109 3.57902 9.36033 3.71967 9.21968C3.86032 9.07902 4.05109 9.00001 4.25 9.00001H7.93C8.48121 8.99987 9.01319 8.79739 9.425 8.43101V8.43001Z" fill="#B3B3B3"/>
<path d="M18.992 5.89702C19.0712 5.83845 19.1611 5.79605 19.2567 5.77224C19.3523 5.74843 19.4516 5.74368 19.549 5.75826C19.6464 5.77284 19.74 5.80646 19.8244 5.85721C19.9089 5.90796 19.9824 5.97483 20.041 6.05402C21.3162 7.77391 22.0031 9.85897 22 12C22.0028 14.1412 21.3155 16.2262 20.04 17.946C19.9192 18.0988 19.7437 18.1985 19.5506 18.2242C19.3576 18.2498 19.1621 18.1994 19.0056 18.0835C18.8491 17.9676 18.7437 17.7954 18.7119 17.6033C18.6801 17.4112 18.7242 17.2142 18.835 17.054C19.9192 15.5923 20.5031 13.8199 20.5 12C20.5031 10.1801 19.9192 8.40772 18.835 6.94602C18.7764 6.86684 18.734 6.77689 18.7102 6.68132C18.6864 6.58574 18.6817 6.48642 18.6962 6.38901C18.7108 6.2916 18.7445 6.19801 18.7952 6.1136C18.8459 6.02918 18.9128 5.95559 18.992 5.89702V5.89702Z" fill="#B3B3B3"/>
<path d="M17.143 8.37002C17.2296 8.32305 17.3246 8.2936 17.4226 8.28336C17.5206 8.27312 17.6196 8.28228 17.7141 8.31033C17.8085 8.33837 17.8965 8.38475 17.973 8.44681C18.0495 8.50887 18.1131 8.5854 18.16 8.67202C18.696 9.66202 19 10.797 19 12C19.0017 13.162 18.7129 14.306 18.16 15.328C18.0653 15.5031 17.905 15.6333 17.7143 15.6901C17.5235 15.747 17.3181 15.7257 17.143 15.631C16.968 15.5363 16.8377 15.376 16.7809 15.1853C16.7241 14.9945 16.7453 14.7891 16.84 14.614C17.26 13.837 17.5 12.948 17.5 12C17.5 11.052 17.26 10.163 16.84 9.38602C16.7931 9.29936 16.7637 9.2043 16.7535 9.10627C16.7433 9.00824 16.7526 8.90917 16.7807 8.81472C16.8089 8.72027 16.8554 8.63229 16.9175 8.55582C16.9797 8.47934 17.0563 8.41587 17.143 8.36902V8.37002Z" fill="#B3B3B3"/>
</svg>


<svg width="116" height="5"  viewBox="0 0 116 5" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="116" height="5" rx="2.5" fill="#C4C4C4"/>
</svg>


</div>


        </div>
      </div>
    </div>
  )
}

export default Player